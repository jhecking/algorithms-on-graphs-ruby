#!/usr/bin/env ruby -w
require './lib/graph'

data = STDIN
graph = Graph.load(data)
(from, to) = data.readline.split.map(&:to_i)
path = graph.shortest_path(from, to)
puts (path && path.length) || -1
